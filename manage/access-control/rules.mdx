---
title: "Rules"
icon: "shield"
description: "Configure bypass and block rules for resource access"
---

import PangolinCloudTocCta from "/snippets/pangolin-cloud-toc-cta.mdx";

<PangolinCloudTocCta />



Each rule has two parts:

- **Match conditions** (what requests it applies to)
- **Action** (what happens when it matches)

This page is primarily about bypass and block behavior for resource traffic.

## Actions

<CardGroup cols={1}>
<Card title="Bypass Auth" icon="check">
  Skip authentication completely for matching requests. Users can access the resource path without login or PIN.
</Card>

<Card title="Block Access" icon="x">
  Deny matching requests immediately. Use this for sensitive paths that should never be reachable.
</Card>

<Card title="Pass to Auth" icon="arrow-right">
  Send matching requests into normal authentication (SSO, password, PIN, MFA) instead of bypassing.
</Card>
</CardGroup>

## UI Behavior and Workflow

In the resource rules UI, rules are configured and managed as a list.

- **Enable Rules** is a global toggle for the resource. If disabled, rule evaluation is not applied.
- Each rule has a **Priority**, and evaluation follows that order (top priority first).
- Each rule also has its own **Enabled** toggle, so you can temporarily disable a single rule without deleting it.
- To create a new rule, select **Action**, **Match Type**, and **Value**, then click **Add Rule**.
- Existing rules can be edited inline, re-prioritized, disabled, or removed with **Delete**.
- Changes are applied when you click **Save All Settings**.

<Note>
Because rules are first-match, priority and save discipline matter. Always verify final rule order before saving.
</Note>

## Evaluation Order (First Match Wins)

Rules are evaluated from top to bottom.

1. Pangolin checks the first rule.
2. If it matches, Pangolin applies that rule's action and stops.
3. If it does not match, Pangolin checks the next rule.
4. This continues until a rule matches or the list ends.

Because evaluation stops at the first match, rule order is critical.

<Tip>
Put specific rules first (for example `/admin/*`) and broader catch-all rules later (for example `/*`).
</Tip>

## Match Conditions

You can match on the following conditions:

### Path

Path match rules allow URL patterns defined with plain text and wildcards (`*`) that match any characters. Patterns and URLs are split into segments (using `/`), and **each segment is matched individually**.

#### Examples:

- `blog/posts`
  Matches the exact path `/blog/posts`.

- `blog/*`
  Matches any path under `/blog` (e.g., `/blog/travel`).

- `*/2023/*`
  Matches paths with `/2023/` as a middle segment (e.g., `/news/2023/summary`).

- `article*`
  Matches **segments** starting with "article" (e.g., `/article-123`).

- `*admin*`
  Matches **segments** containing "admin" (e.g., `/my-admin-panel`).

- `personal-*/*`
  Matches paths where the first segment starts with `personal-` and is followed by any segment (e.g., `/personal-blog/post`).

#### Segment-by-Segment Matching

- **Normalization:**
  Both patterns and URLs are split into segments. For example, `/blog/journal/entry` becomes `["blog", "journal", "entry"]`, while `/blog*` becomes `["blog*"]`.

- **Validation:**
  Each pattern segment must correspond to a URL segment, and wildcards match zero or more characters within that segment. A pattern like `/blog*` only matches the first segment, so URLs with extra segments require additional placeholders (e.g., `/blog*/*`).

### Country

Country match rules allow you to specify allowed or denied countries for requests based on their IP address. This is useful for geo-restrictions or compliance with regional regulations.

We use a IP database to geolocate the IP address but this is not always accurate. We try to keep it updated, but there may be cases where the location is incorrect.

Select the "ALL" option to match all countries for allowing or denying access.

<Note>
Country-based rules require Geo-blocking to be enabled. See [Geo-blocking](/manage/geoblocking) before using Country match rules.
</Note>

### CIDR

CIDR (Classless Inter-Domain Routing) notation specifies IP address ranges using an IP address and a network prefix length. The format is [IP address]/[prefix length].

**Examples:**

- `192.168.1.0/0` - Matches all 256 IPs from 192.168.1.0 to 192.168.1.255
- `10.0.0.0/8` - Matches any IP starting with 10 (16.7 million addresses)
- `2001:db8::/32` - Matches a range of IPv6 addresses
- `0.0.0.0/0` - Matches all IPv4 addresses

<Note>
The prefix length (1-32 for IPv4, 1-128 for IPv6) determines how many bits from the left are fixed. Smaller prefix numbers match larger ranges.
</Note>

### IP

Pretty simple: you can match on simply an IP address like your home IP to bypass auth. This is the same as entering a /32 CIDR.

**Examples:**

- `23.234.134.32`
- `34.45.245.64`
- `192.168.1.1`

## Rules for Specific Apps

This table compiles paths that need to be allowed for various apps to work with Pangolin authentication.

| App                              | Required Bypass Rules                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| -------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Media Management**             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Radarr                           | `/api/*`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Sonarr                           | `/api/*`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Lidarr                           | `/api/*`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **Media Servers**                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Jellyfin (iOS)                   | `/system/info/public`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Jellyfin (Roku)                  | `/System/Info/Public`<br />`/Users/AuthenticateByName`<br />`/Users/Public`<br />`/QuickConnect/Initiate`<br />`/QuickConnect/Connect`<br />`/Users/AuthenticateWithQuickConnect`                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Audiobookshelf                   | Audiobookshelf also supports `/audiobookshelf` by default. Each rule should also be applied to this path.<br />`/api/*`<br />`/login`<br />`/auth/*`<br />`/feed/*`<br />`/socket.io/`<br />`/status`<br />`/logout`<br />`/ping`<br />`/public/*`<br />The following is needed for public shares and is optional for clients:<br />`/share/*`<br />`/_nuxt/*.js`<br />`/_nuxt/fonts/*`                                                                                                                                                                                                                          |
| **Management & Monitoring**      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Tautulli                         | `/api/*`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Harbour                          | `/api/*`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Hoarder App                      | `/api/*`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Uptime Kuma Manager              | `/api/*`<br />`/socket.io/*`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Beszel                           | `/api/beszel/agent-connect`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| MeshCentral                      | `/api/*`<br />`/meshrelay.ashx`<br />`/agent.ashx`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **Security & Privacy**           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| AdGuard Home                     | `/api/*`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Ente Auth                        | `*api*`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| Vaultwarden/Bitwarden            | `/api/*`<br />`/identity/*`<br />`/wl/*`<br />Always Deny - Path - `/admin/*`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **Cloud & Sync**                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Nextcloud                        | `/` (Main interface)<br />`/index.php` (Core handler)<br />`/remote.php` (Remote access)<br />`/status.php` (Status checks)<br />`/ocs` (Collaboration Services API)<br />`/apps` (Applications)<br />`/remote.php/webdav` (WebDAV endpoint)<br />`/remote.php/dav` (CalDAV/CardDAV)<br />`/remote.php/caldav` (Calendar sync)<br />`/remote.php/carddav` (Contacts sync)<br />`/ocs/v1.php` (API endpoints)<br />`/ocs/v2.php` (API v2 endpoints)<br />`/login` (Authentication)<br />`/.well-known/*` (Service discovery)<br />`/.well-known/webfinger` (WebFinger protocol)<br />`/s/*` (Shared files/folders) |
| Onlyoffice                       | `/cache/*`<br />`*/CommandService.ashx`<br />`*/converter/*`<br />`*/doc/*`<br />`*/downloadas/*`<br />`/downloadfile/*`<br />`*/fonts/*`<br />`/healthcheck`<br />`/methodology/*`<br />`*/plugins.json`<br />`*/sdkjs/*`<br />`*/sdkjs-plugins/*`<br />`*/themes.json`<br />`*/web-apps/*`
| **Photo Management**             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Ente Photos                      | `*api*`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| Immich                           | `/api/*`<br />`/.well-known/immich`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **File Management**              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Filebrowser                      | `/static/*`<br />`/share/*` <br/> `/api/public/dl/*` <br/> `/api/public/share/*`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| **Notes & Knowledge Management** |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Joplin Notes Server              | `/api/*`<br />`/shares/*`<br />`/css/*`<br />`/images/*`<br />Always Deny - Path - `/login/*` (optional)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Erugo                            | `/api/*`<br />`/shares/*`<br />`/build/*`<br />`/get-logo`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| Memos                            | `/api/*`<br />`/assets/*`<br />`/explore*`<br />`/memos.api.v1.*`<br />`/auth/callback*`<br />`/auth`<br />`/site.webmanifest`<br />`/logo.webp`<br />`/full-logo.webp`<br />`/android-chrome-192x192.png`                                                                                                                                                                                                                                                                                                                                                                                                    |
| Linkding                          | `/api/*`<br />`/bookmarks/*`<br />Always Deny - Path - `/admin/*`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **Communication**                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Matrix/Synapse (Clients)         | `/_matrix/*`<br />`/_synapse/client/*`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Matrix/Synapse (Federation)      | `/_matrix/*`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| **Notifications**                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Gotify                           | `/version`<br />`/message`<br />`/application`<br />`/client`<br />`/stream`<br />`/plugin`<br />`/health`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **Home Automation**              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Home Assistant                   | `/api/*`<br />`/auth/*`<br />`/frontend_latest/*`<br />`/lovelace/*`<br />`/static/*`<br />`/hacsfiles/*`<br />`/local/*`<br />`/manifest.json`<br />`/sw-modern.js`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| n8n                              | `/webhook-test/*/webhook`<br />`/webhook/*/webhook`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **Project Management**              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Jetbrains Youtrack                   | `/api/*`<br />`/hub/api/*`<br />                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **Genealogy**                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Gramps Web                           | `/api/*`
| **Analytics**                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Liwan                             | `/script.js`<br /> `/api/send`                                                                                                                                                                                                                                                                                              |
| Umami                             | `/script.js`<br /> `/api/send`                                                                                                                                                                                                                                                                                              |

<Note>
These rules are examples and may need to be adjusted based on your specific app configuration and version.
</Note>
